!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Trellis=t()}(this,function(){function e(e,t){"use strict";function n(){var t;for(e.style.padding&&(e.style.padding=""),y=[],f=e.clientWidth,p=document.querySelector(d.colSelector).offsetWidth,a=Math.floor(f/p),d.keepCentered&&(s=(f-(p*a+d.gutter*(a-1)))/2),t=a-1;t>=0;t--)y.push(d.gutter)}function o(){var e,t,n,o,r=document.querySelectorAll(d.colSelector);for(e=r.length-1;e>=0;e--)n=r[e],o=y.min(),t=y.indexOf(o),n.style.top=o+"px",n.style.left=d.keepCentered?t*(p+d.gutter)+s+"px":t*(p+d.gutter)+"px",y[t]+=d.gutter+n.offsetHeight}function r(){n(),o(),window.addEventListener("resize",function(){n(),o()})}function i(){var e,t,n,o,r;for(e=Array.prototype.slice.call(arguments,0),t=e.shift(),n=0;n<e.length;n++){r=e[n];for(o in r)r[o]&&r.hasOwnProperty(o)&&(t[o]=r[o])}return t}function u(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&void 0!==e&&e.nodeType&&1===e.nodeType}function l(e){return e&&"[object Function]"===Object.prototype.toString.call(e)}var c,d,f,s,p,a,y;if(c={colSelector:".trellis-col",gutter:10,keepCentered:!0,afterInit:function(){}},d=i({},c,t||{}),!e)throw new Error("No HTML element or selector specified");if("string"==typeof e){if(!document.querySelector(e))throw new Error("No HTML element found using the passed in selector: "+e);e=document.querySelector(e)}else if(!u(e))throw new Error(e+" is not an HTML element");return Array.prototype.indexOf=Array.prototype.indexOf||function(e,t){var n=this.length,o="undefined"==typeof t?0:0>t?n+t:t,r=-1;for(o;n>o;++o)if(this[o]===e){r=o;break}return r},Array.prototype.min=function(){return Math.min.apply(Math,this)},document.querySelectorAll||(document.querySelectorAll=function(e){var t,n=document.createElement("style"),o=[];for(document.documentElement.firstChild.appendChild(n),document._qsa=[],n.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),n.parentNode.removeChild(n);document._qsa.length;)t=document._qsa.shift(),t.style.removeAttribute("x-qsa"),o.push(t);return document._qsa=null,o}),document.querySelector||(document.querySelector=function(e){var t=document.querySelectorAll(e);return t.length?t[0]:null}),r(),l(d.afterInit)&&d.afterInit.call(window,e),e}return window&&(window.jQuery||window.Zepto)&&!function(t){"use strict";t.fn.trellis=function(n){return t(new e(this.get(0),n))}}(window.jQuery||window.Zepto),e});